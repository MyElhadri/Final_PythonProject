{% extends "base.html" %}
{% block title %}Data Visualization{% endblock %}

{% block content %}

<!-- ğŸŒŠ Conteneur Principal -->
<div class="outer-visualization-container">

  <!-- ğŸ“Œ Titre Principal -->
  <h1 class="artistic-heading">ğŸŒ Dynamic Data Insights</h1>

  <!-- ğŸ­ Citation AlÃ©atoire -->
  {% if statement %}
    <h2 class="random-statement">ğŸ­ {{ statement }}</h2>
  {% endif %}

  <!-- ğŸ“Š Wrapper pour centrer les 2 tableaux -->
  <div class="tables-wrapper">
      <!-- ğŸ“Š Tableau des DonnÃ©es -->
      <div class="table-container">
          <h2 class="section-heading">ğŸ“Š Data Snapshot</h2>
          <table class="data-table">
              {{ table|safe }}
          </table>
      </div>

      <!-- ğŸ“ˆ Tableau des Statistiques -->
      <div class="stats-container">
          <h2 class="section-heading">ğŸ“ˆ Data Analysis</h2>
          <div class="table-container stats-table">
              <table class="data-table">
                  {{ stats|safe }}
              </table>
          </div>
      </div>
  </div> <!-- âœ… Fin du wrapper des tableaux -->

  <!-- ğŸ¨ Buttons to Generate Different Charts -->
  <div class="chart-buttons">
    <form method="POST">
      <!-- Hidden field specifying swirl chart -->
      <input type="hidden" name="chart_type" value="swirl" />
      <button type="submit" class="generate-chart-btn">ğŸŒª Generate Swirl Chart</button>
    </form>

    <form method="POST">
      <!-- Hidden field specifying abstract wave chart -->
      <input type="hidden" name="chart_type" value="abstract_wave" />
      <button type="submit" class="generate-chart-btn">ğŸŒŠ Abstract Wave Chart</button>
    </form>

    <form method="POST">
      <!-- Hidden field specifying dynamic bar chart -->
      <input type="hidden" name="chart_type" value="dynamic_bar" />
      <button type="submit" class="generate-chart-btn">ğŸ’ Dynamic Bar Chart</button>
    </form>

    <form method="POST">
      <!-- Hidden field specifying heatmap -->
      <input type="hidden" name="chart_type" value="heatmap" />
      <button type="submit" class="generate-chart-btn">ğŸ”¥ Temperature Heatmap</button>
    </form>
  </div>

  <!-- ğŸŒ€ Graphique GÃ©nÃ©rÃ© -->
  {% if chart_url %}
  <h2 class="section-heading">ğŸ“Š Visual Representation</h2>
  <div class="chart-container">
    <img src="{{ chart_url }}" alt="Generated Chart">
  </div>
  {% endif %}

</div> <!-- âœ… .outer-visualization-container -->

{% endblock %}
